// complex_pow.cpp
// compile with: /EHsc
#include <complex>
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
using namespace std;
//int main( )
//{
//   int q; double a,b,k,m;
//   scanf("%d",&q);
//   while (q-->0) {
//	   scanf("%lf %lf %lf %lf",&a,&b,&k,&m);
//	   complex <double> cb1 (a , b);
//	   complex <long double> ce1 = pow ( cb1 ,k );
//	   printf("%Lf %Lf\n",real(ce1),imag(ce1));
//	   long long r = (long long)(round(fmod(real(ce1),m)));
//	   r = r<0?1000000000+r:r;
//	   long long i = (long long)(round(fmod(imag(ce1),m)));
//	   i = i<0?1000000000+i:i;
//	   printf("%lld %lld\n",r,i);
//   }
//}
